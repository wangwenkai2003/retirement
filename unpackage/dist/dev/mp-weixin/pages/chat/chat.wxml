<view><scroll-view class="container vue-ref" style="display:flex;flex-direction:column;height:100vh;padding-top:20rpx;" scroll-y="true" scroll-into-view="{{scrollToView}}" data-ref="scrollContainer" data-event-opts="{{[['scrolltoupper',[['onScrollTop',['$event']]]]]}}" bindscrolltoupper="__e"><block wx:for="{{infoList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="vue-ref-in-for" style="display:flex;margin-bottom:20rpx;" id="{{'msg'+item.id}}" data-ref="myView"><block wx:if="{{item.from===toUserInfo.phone}}"><view style="margin-right:auto;margin-left:10rpx;display:flex;align-items:center;"><image style="width:120rpx;height:120rpx;border-radius:50%;" src="{{imgUrl+'/common/download?name='+toUserInfo.avatar}}" class="_img"></image><block wx:if="{{item.ifImg===0}}"><view style="background-color:#f5f5f5;padding:20rpx;font-size:15px;margin-left:20rpx;border-radius:10rpx;">{{item.content}}</view></block><block wx:if="{{item.ifImg===1}}"><view style="border-radius:10rpx;"><image style="margin-left:20rpx;width:300rpx;height:300rpx;" mode="aspectFill" src="{{imgUrl+'/common/download?name='+item.img}}" data-event-opts="{{[['tap',[['previewImage',['$0'],[[['infoList','',index,'img']]]]]]]}}" bindtap="__e"></image></view></block></view></block><block wx:if="{{item.from===userInfo.phone}}"><view style="margin-left:auto;margin-right:10rpx;display:flex;align-items:center;"><block wx:if="{{item.ifImg===0}}"><view style="background-color:#5cd375;padding:20rpx;font-size:15px;margin-right:20rpx;border-radius:10rpx;">{{item.content}}</view></block><block wx:if="{{item.ifImg===1}}"><view style="border-radius:10rpx;"><image style="margin-right:20rpx;width:300rpx;height:300rpx;" mode="aspectFill" src="{{imgUrl+'/common/download?name='+item.img}}" data-event-opts="{{[['tap',[['previewImage',['$0'],[[['infoList','',index,'img']]]]]]]}}" bindtap="__e"></image></view></block><image style="width:120rpx;height:120rpx;border-radius:50%;" src="{{imgUrl+'/common/download?name='+userInfo.avatar}}" class="_img"></image></view></block></view></block><view style="height:80rpx;"></view></scroll-view><view class="bottom-bar"><image style="width:50rpx;height:50rpx;margin-left:10rpx;" src="{{$root.m0}}" alt data-event-opts="{{[['tap',[['openFileSelector',['$event']]]]]}}" bindtap="__e" class="_img"></image><input class="input-box" type="text" placeholder="请输入消息" data-event-opts="{{[['input',[['__set_model',['$0','content','$event',[]],['info']]]]]}}" value="{{info.content}}" bindinput="__e"/><button class="send-btn" style="margin-right:20rpx;" type="primary" size="mini" data-event-opts="{{[['tap',[['sendMsg',['$event']]]]]}}" bindtap="__e">发送</button></view></view>