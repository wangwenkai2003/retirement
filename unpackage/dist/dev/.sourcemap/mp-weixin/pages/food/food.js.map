{"version":3,"sources":["webpack:///E:/current-project/retirement/retirement/pages/food/food.vue?f1cf","uni-app:///main.js","webpack:///E:/current-project/retirement/retirement/pages/food/food.vue?95ad","webpack:///E:/current-project/retirement/retirement/pages/food/food.vue?6aef","webpack:///E:/current-project/retirement/retirement/pages/food/food.vue?f3c7","webpack:///E:/current-project/retirement/retirement/pages/food/food.vue?d03f","uni-app:///pages/food/food.vue","webpack:///E:/current-project/retirement/retirement/pages/food/food.vue?4dfd"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","menuItems","categoryIndex","currentDishs","orderList","onLoad","computed","goodsPrice","price","methods","viewOrderInfo","goToCheckout","getCategorys","console","selectCategory","getByCategoryId","callPhone","uni","phoneNumber","success","fail","addOrder","name","amount","image","increaseAmount","decreaseAmount"],"mappings":";;;;;;;;;AAAA;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACqC;;;AAGxF;AAC+K;AAC/K,gBAAgB,sLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA6pB,CAAgB,2pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;AC0EjrB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC,aACA;MACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;QACAC;MACA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IAAA,CACA;IACAC;MAAA;MACA;QACA;QACA;QACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACAF;MACA;IACA;IACAG;MACAC;QACAC;QAAA;QACAC;UACAN;QACA;QACAO;UACAP;QACA;MACA;IACA;IACAQ;MACAR;MACA;QAAA;MAAA;QACA;UAAA;QAAA;QACA;UACA;UACA;QACA;MACA;QACA;UACAS;UACAC;UACAf;UACAgB;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;QACA;QAEA;UACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;QAEA;UACA;UACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClLA;AAAA;AAAA;AAAA;AAAg+B,CAAgB,07BAAG,EAAC,C","file":"pages/food/food.js","sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1719293287807\n      var cssReload = require(\"E:/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/food/food.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./food.vue?vue&type=template&id=42b55fc6&scoped=true&\"\nvar renderjs\nimport script from \"./food.vue?vue&type=script&lang=js&\"\nexport * from \"./food.vue?vue&type=script&lang=js&\"\nimport style0 from \"./food.vue?vue&type=style&index=0&id=42b55fc6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42b55fc6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/food/food.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./food.vue?vue&type=template&id=42b55fc6&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./food.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./food.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"container\">\n    <view class=\"header\" style=\"height: 20vh; padding: 10rpx;background-color: #fff;border-bottom: 1px solid #f4f4f4; \">\n      <view class=\"header-top\" style=\"display: flex;width: 100%;height: 100%;align-items: center; \">\r\n\t\t  <image src=\"../../static/logo.png\" style=\"width: 25%;height:85%;\"></image>\r\n\t\t  <view class=\"header-right\">\r\n\t\t\t\t<view style=\"font-size: 20px;font-weight: 700;margin-bottom: 10rpx;margin-left: 15rpx;\">长寿面馆</view>\r\n\t\t\t\t  <view style=\"display: flex;align-items: center;\">\r\n\t\t\t\t\t<image src=\"../../static/distant.jpg\" style=\"width: 20px; height: 20px;\"></image> <span>距离1.5km</span> \r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"display: flex;align-items: center;\">\r\n\t\t\t\t\t<image src=\"../../static/clock.jpg\" style=\"width: 20px; height: 20px;\"></image> <span>预计时长12min</span> \r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view @click=\"callPhone()\">\r\n\t\t\t\t\t\t<image src=\"../../static/phone.svg\" style=\"width: 20px; height: 20px;\"></image> <span style=\"color: #48a2c5;\">12312312311</span> \r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t  </view>\r\n\t  </view>\r\n\t<view class=\"banner\" style=\"display: flex;\">\r\n\t\t<view class=\"menu\" style=\"width: 20%;\">\r\n\t\t\t<scroll-view scroll-y=\"true\" style=\"height: 78vh;width: 100%;\">\r\n\t\t  <view v-for=\"(item, index) in menuItems\" :key=\"index\" :style=\"{ backgroundColor: index === categoryIndex ? '#ffffff' : '#f6f6f6' }\"  style=\"height: 10%; display: flex;align-items: center;justify-content: center;\"  @click=\"selectCategory(index,item)\">\r\n\t\t\t  <span>{{item.name}}</span>\r\n\t\t  </view>\r\n\t\t  </scroll-view>\r\n\t\t</view>\r\n\t\t<view class=\"dish\" style=\"width: 78%;margin-left: 2rpx;\">\r\n\t\t\t<scroll-view scroll-y=\"true\" style=\"height: 78vh;width: 100%;\">\r\n\t\t\t\t\t\t<view v-for=\"(item,index) in currentDishs\" :key=\"index\" style=\"width: 100%;;height: 200rpx; display: flex;background-color: #fff;\" >\r\n\t\t\t\t\t\t<image :src=\"item.image\"  style=\"width: 25%;height: 100%; \"></image>\r\n\t\t\t\t\t\t<view style=\"display: flex;justify-content: center;align-items: center; flex-direction: column;margin-left: 15rpx;\">\r\n\t\t\t\t\t\t\t<view style=\"font-size: 20px; font-weight: 700;margin-bottom: auto;margin-top: 20rpx;\">{{item.name}}</view>\r\n\t\t\t\t\t\t\t<view style=\"color: red; margin-bottom: 5rpx;\">￥{{item.price/100}}</view>\r\n\t\t\t\t\t\t</view>\t\r\n\t\t\t\t\t\t<view class=\"\" style=\"margin-top: auto;margin-left: auto;margin-right: 10rpx;margin-bottom: 10rpx;\">\r\n\t\t\t\t\t\t\t<button style=\"background-color: #f0bd0a;\" @click=\"addOrder(item)\">加入订单</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\n    <view class=\"footer\" @click=\"viewOrderInfo\" style=\" position: fixed;bottom: 5%;left: 25%; width: 70vw;\">\n      <view style=\"display: flex;background-color: #000000;align-items: center;padding: 5px;border-radius: 10px;\">\r\n\t\t <view style=\"color: red; font-weight: 700;\">￥{{goodsPrice}}</view>\r\n\t\t <!-- <button style=\"margin-left: auto;\">去结算</button>-->\r\n\t\t <view  style=\"margin-left: auto;\" ><button :style=\"{ backgroundColor: goodsPrice >0 ? '#f0bd0a' : '#d8d8d8' }\" style=\"color: #fff;\">去结算</button></view>\r\n\t  </view>\n    </view>\r\n\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<scroll-view scroll-y=\"true\" style=\"height: 50vh;width: 100%;background-color: #fff;\">\r\n\t\t\t<view v-for=\"(item,index) in orderList\" :key=\"index\" style=\"width: 100%;;height: 150rpx; display: flex;background-color: #fff;\">\r\n\t\t\t\t<image :src=\"item.image\"  style=\"width: 25%;height: 100%; \"></image>\r\n\t\t\t\t<view style=\"display: flex;justify-content: center;align-items: center; flex-direction: column;margin-left: 15rpx;background-color: #fff;\">\r\n\t\t\t\t\t<view style=\"font-size: 20px; font-weight: 700;margin-bottom: auto;margin-top: 20rpx;\">{{item.name}}</view>\r\n\t\t\t\t\t<view style=\"color: red; margin-bottom: 5rpx;\">￥{{item.price/100}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-left: auto;margin-right: 10px;display: flex;flex-direction: column;align-items: center;justify-content: center;\">\r\n\t\t\t\t\t<view style=\"display: flex; align-items: center; \">\r\n\t\t\t\t\t\t<image src=\"../../static/sub.svg\"  @tap=\"decreaseAmount(item)\" style=\"width: 16px;height: 16px;margin-right: 1px;\"></image>\r\n\t\t\t\t\t\t{{item.amount}}\r\n\t\t\t\t\t\t<image src=\"../../static/add.svg\" @tap=\"increaseAmount(item)\"   style=\"width: 16px;height: 16px;margin-left: 1px\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"color: red;margin-top: 5px;margin-right: 2px;\">￥{{item.amount*item.price/100}}</view>\t\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t</uni-popup>\n  </view>\n</template>\n\n<script>\r\nimport {getCategory} from \"../../api/category.js\"\r\nimport {getDishsByCategoryId}  from \"../../api/dish.js\"\nexport default {\n  data() {\n    return {\n      menuItems: [\n      ],\r\n\t  categoryIndex: 0,\r\n\t\t// colorList:[\"blue\",\"red\",\"yellow\"],\r\n\t\tcurrentDishs:[],\r\n\t\torderList:[]\n    };\n  },\r\n  onLoad() {\r\n  \tthis.getCategorys()\r\n  },\r\n  computed:{\r\n\t    goodsPrice(){\r\n\t                let price = 0\r\n\t                this.orderList.forEach(item=>{\r\n\t                  price += (item.amount * item.price/100)\r\n\t                })\r\n\t                return price\r\n\t              }\r\n  },\n  methods: {  \r\n\tviewOrderInfo(){\r\n\t\tthis.$refs.popup.open()\r\n\t},\n    goToCheckout() {\n      // 跳转到结算页面\n    },\r\n\tgetCategorys(){\r\n\t\tgetCategory().then(res=>{\r\n\t\t\tthis.menuItems = res.data;\r\n\t\t\tthis.getByCategoryId(this.menuItems[0].id)\r\n\t\t\tconsole.log(this.menuItems,\"mm\");\r\n\t\t})\r\n\t},\r\n\tselectCategory(index,item){\r\n\t\tthis.categoryIndex = index;\r\n\t\tthis.getByCategoryId(item.id)\r\n\t},\r\n\tgetByCategoryId(id){\r\n\t\tgetDishsByCategoryId(id).then(res=>{\r\n\t\t\t\tthis.currentDishs = res.data;\r\n\t\t\t\tconsole.log(this.currentDishs,'cd');\r\n\t\t})\r\n\t},\r\n\t   callPhone() {\r\n\t      uni.makePhoneCall({\r\n\t        phoneNumber: \"13307223604\", // 需要拨打的电话号码\r\n\t        success: () => {\r\n\t          console.log('拨打电话成功');\r\n\t        },\r\n\t        fail: (err) => {\r\n\t          console.log('拨打电话失败', err);\r\n\t        }\r\n\t      });\r\n\t    },\r\n\t\taddOrder(dish){\r\n\t\t\tconsole.log(this.orderList);\r\n\t\t\tif(this.orderList.some(item => item.name === dish.name)){\r\n\t\t\t\tlet existingItemIndex = this.orderList.findIndex(item => item.name === dish.name);\r\n\t\t\t\tif (existingItemIndex !== -1) {\r\n\t\t\t\t  // 使用 Vue 的 $set 方法确保视图更新\r\n\t\t\t\t  this.$set(this.orderList[existingItemIndex], 'amount', this.orderList[existingItemIndex].amount + 1);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tlet orderDish={\r\n\t\t\t\t\tname: dish.name,\r\n\t\t\t\t\tamount: 1,\r\n\t\t\t\t\tprice: dish.price,\r\n\t\t\t\t\timage: dish.image\r\n\t\t\t\t}\r\n\t\t\t\tthis.orderList.push(orderDish)\r\n\t\t\t\t// console.log(this.orderList);\r\n\t\t\t}\r\n\t\t},\r\n\t\tincreaseAmount(item) {\r\n\t\t  if (item.amount < Infinity) {\r\n\t\t    this.$set(item, 'amount', item.amount + 1);\r\n\t\t\r\n\t\t    if (item.amount <= 0) {\r\n\t\t      const index = this.orderList.indexOf(item);\r\n\t\t      if (index > -1) {\r\n\t\t        this.orderList.splice(index, 1);\r\n\t\t      }\r\n\t\t    }\r\n\t\t  }\r\n\t\t},\r\n\t\tdecreaseAmount(item) {\r\n\t\t  if (item.amount > 0) {\r\n\t\t    this.$set(item, 'amount', item.amount - 1);\r\n\t\t\r\n\t\t    if (item.amount <= 0) {\r\n\t\t      const index = this.orderList.indexOf(item);\r\n\t\t      if (index > -1) {\r\n\t\t        this.orderList.splice(index, 1);\r\n\t\t      }\r\n\t\t    }\r\n\t\t  }\r\n\t\t}\n  }\n};\n</script>\n\n<style scoped>\r\n\t.scroll-Y {\r\n\t\t\theight: 300rpx;\r\n\t\t}\r\n\t\t.scroll-view_H {\r\n\t\t\twhite-space: nowrap;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t\t.scroll-view-item {\r\n\t\t\theight: 300rpx;\r\n\t\t\tline-height: 300rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 36rpx;\r\n\t\t}\r\n\t\t.scroll-view-item_H {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 300rpx;\r\n\t\t\tline-height: 300rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 36rpx;\r\n\t\t}\n</style>","import mod from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./food.vue?vue&type=style&index=0&id=42b55fc6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./food.vue?vue&type=style&index=0&id=42b55fc6&scoped=true&lang=css&\""],"sourceRoot":""}