{"version":3,"sources":["uni-app:///main.js","webpack:///E:/current-project/retirement/retirement/pages/my/my.vue?e6cb","webpack:///E:/current-project/retirement/retirement/pages/my/my.vue?47e1","webpack:///E:/current-project/retirement/retirement/pages/my/my.vue?6f93","webpack:///E:/current-project/retirement/retirement/pages/my/my.vue?8cf7","uni-app:///pages/my/my.vue","webpack:///E:/current-project/retirement/retirement/pages/my/my.vue?8778","webpack:///E:/current-project/retirement/retirement/pages/my/my.vue?fda0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","userInfo","updateInfo","imgUrl","onLoad","methods","previewImage","uni","urls","current","exit","title","success","url","updateUser","dialogInputConfirm","openFileSelector","filePath","name","formData"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,WAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACsD;AACL;AACqC;;;AAGtF;AAC+K;AAC/K,gBAAgB,sLAAU;AAC1B,EAAE,wEAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,gWAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAO,CAAC,8BAAqB;AACxC,WAAW,mBAAO,CAAC,8BAAqB;AACxC,WAAW,mBAAO,CAAC,8BAAqB;AACxC;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,ypBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC0B/qB;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;;EACAC;IACAC;MACAC;QACAC;QACAC;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACAH;QACAI;QACAC;UACA;YACA;YACAL;YACAA;cACAM;YACA;UACA;YACA;UAAA;QAEA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA,wCACA;QACA;UACAR;YACAI;UACA;UACA;UACAJ;QACA;MACA;IACA;IACAS;MAAA;MACAT;QACAK;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACAL;YACAM;YAAA;YACAI;YACAC;YACAC;cACA;YACA;YACAP;cACA;cACA;cACA;cACA;cACA;gBACA;kBACAL;oBACAI;kBACA;kBACA;kBACAJ;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACnIA;AAAA;AAAA;AAAA;AAA89B,CAAgB,w7BAAG,EAAC,C;;;;;;;;;;;ACAl/B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/my/my.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/my/my.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./my.vue?vue&type=template&id=0be17cc6&scoped=true&\"\nvar renderjs\nimport script from \"./my.vue?vue&type=script&lang=js&\"\nexport * from \"./my.vue?vue&type=script&lang=js&\"\nimport style0 from \"./my.vue?vue&type=style&index=0&id=0be17cc6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0be17cc6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/my.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my.vue?vue&type=template&id=0be17cc6&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupDialog: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog\" */ \"@/uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"@/static/update.png\")\n  var m1 = require(\"@/static/update.png\")\n  var m2 = require(\"@/static/layout.png\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t<view   style=\"display: flex;align-items: center;padding: 10rpx;\">\r\n\t\t<img @click=\"previewImage\" :src=\"`${imgUrl}/common/download?name=${userInfo.avatar}`\" style=\"width: 150rpx;height: 150rpx;border-radius: 50%;\">\r\n\t\t<view style=\"margin-left: 10rpx;font-size: 18px;font-weight: 700;\">{{userInfo.nickName}}</view>\r\n<!-- \t\t<view v-if=\"formModel.sex==='0'\" style=\"margin-left: auto;margin-right: 80rpx;\"><img src=\"@/static/man.png\" style=\"width: 70rpx;height: 70rpx;\" alt=\"\"></view>\r\n\t\t<view v-if=\"formModel.sex==='1'\" style=\"margin-left: auto;margin-right: 80rpx;\"><img src=\"@/static/woman.png\" style=\"width: 70rpx;height: 70rpx;\" alt=\"\"></view> -->\r\n\t</view>\r\n\t<view class=\"\" style=\"margin-top: 5rpx;background-color: #fff;padding: 10rpx;\">\r\n\t\t<ul>\r\n\t\t\t<li @click=\"openFileSelector\" class=\"base-item\" style=\"display: flex;\"><img src=\"@/static/update.png\" style=\"width: 50rpx;height: 50rpx\"><span style=\"margin-left: 20rpx;\">修改头像</span></li>\r\n\t\t\t<li @click=\"updateUser\" class=\"base-item\" style=\"display: flex;\"><img src=\"@/static/update.png\" style=\"width: 50rpx;height: 50rpx\"><span style=\"margin-left: 20rpx;\">修改昵称</span></li>\r\n\t\t\t<li @click=\"exit\" class=\"base-item\" style=\"display: flex;\"><img src=\"@/static/layout.png\" style=\"width: 50rpx;height: 50rpx\"><span style=\"margin-left: 20rpx;\">退出登录</span></li>\r\n\t\t</ul>\r\n\t</view>\r\n\t\r\n\r\n\t\t<uni-popup ref=\"inputDialog\" type=\"dialog\">\r\n\t\t\t\t<uni-popup-dialog ref=\"inputClose\"  mode=\"input\" title=\"修改昵称\" :value=\"updateInfo.nickName\"\r\n\t\t\t\t\tplaceholder=\"请输入昵称\"  @confirm=\"dialogInputConfirm\" ></uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\n\t</view>\n</template>\n\n<script>\r\n\timport {getImg,uploadUrl} from '../../api/img.js'\r\n\timport config from '../../common/config.js'\r\n\timport {update} from '../../api/user.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserInfo:{},\r\n\t\t\t\tupdateInfo:{},\r\n\t\t\t\timgUrl:''\n\t\t\t}\n\t\t},\r\n\t\tonLoad() {\r\n\t\tthis.imgUrl = config.APP_SERVER_URL\r\n\t\t let userInfo = uni.getStorageSync('user')\r\n\t\t this.userInfo = userInfo\r\n\t\t // this.getAvatar(userInfo.avatar)\r\n\t\t},\n\t\tmethods: {\n\t\t\tpreviewImage(){\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t    urls: [this.userInfo.avatar],\r\n\t\t\t\t    current: this.userInfo.avatar\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// getAvatar(avatar){\r\n\t\t\t// \tgetImg(avatar).then(\r\n\t\t\t// \t\t\t\t\tres =>{\r\n\t\t\t// \t\t\t\t\t\tthis.userInfo.avatar = res.data\r\n\t\t\t// \t\t\t\t\t}\r\n\t\t\t// \t)\r\n\t\t\t// },\r\n\t\t\texit(){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:'是否要退出登录O.o？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t    if (res.confirm) {\r\n\t\t\t\t\t      // 用户点击了确认按钮\r\n\t\t\t\t\t\t\tuni.setStorageSync('user','')\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl:'/pages/login/login'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t    } else if (res.cancel) {\r\n\t\t\t\t\t      // 用户点击了取消按钮\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t  }\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupdateUser() {\r\n\t\t\t\t\t\tthis.updateInfo = this.userInfo\r\n\t\t\t\t\t\tthis.$refs.inputDialog.open()\r\n\t\t\t\t},\r\n\t\t\tdialogInputConfirm( value){\r\n\t\t\t\t\tthis.updateInfo.nickName = value\r\n\t\t\t\t\tupdate(this.updateInfo).then(\r\n\t\t\t\t\tres =>{\r\n\t\t\t\t\t\tif(res.code ===1){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'修改成功'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.userInfo.nickName = value\r\n\t\t\t\t\t\t\tuni.setStorageSync('user',this.userInfo)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\topenFileSelector(){\r\n\t\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t\tsuccess: (chooseImageRes) => {\r\n\t\t\t\t\t\t\tlet base64Avatar='';\r\n\t\t\t\t\t\t\tconst tempFilePaths = chooseImageRes.tempFilePaths;\r\n\t\t\t\t\t\t\t// const fs = uni.getFileSystemManager()\r\n\t\t\t\t\t\t\t// fs.readFile({\r\n\t\t\t\t\t\t\t//   filePath: tempFilePaths[0],\r\n\t\t\t\t\t\t\t//   encoding: 'base64',\r\n\t\t\t\t\t\t\t//   success: (data) => {\r\n\t\t\t\t\t\t\t//     const base64 = 'data:image/png;base64,' + data.data // 获取图片对应的 base64 字符串\r\n\t\t\t\t\t\t\t// \tbase64Avatar  = base64\r\n\t\t\t\t\t\t\t//   }\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl: uploadUrl, //仅为示例，非真实的接口地址\r\n\t\t\t\t\t\t\t\tfilePath: tempFilePaths[0],\r\n\t\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t\t'user': 'test'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\t\t\t\tlet uploadResObject =  JSON.parse(uploadFileRes.data)\r\n\t\t\t\t\t\t\t\t\tlet fileName = uploadResObject.data.substring(uploadResObject.data.lastIndexOf('/') + 1);\r\n\t\t\t\t\t\t\t\t\tthis.updateInfo = this.userInfo\r\n\t\t\t\t\t\t\t\t\tthis.updateInfo.avatar = fileName\r\n\t\t\t\t\t\t\t\t\tupdate(this.updateInfo).then(res =>{\r\n\t\t\t\t\t\t\t\t\t\tif(res.code ===1){\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle:'修改成功'\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tthis.userInfo.avatar = fileName\r\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('user',this.updateInfo)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}) \r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style scoped>\n.base-item{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 10rpx;\r\n\theight: 100rpx;\r\n\tborder-bottom: 1rpx #f4f4f4 solid;\r\n\tline-height: 100rpx;\r\n}\n</style>\n","import mod from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my.vue?vue&type=style&index=0&id=0be17cc6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my.vue?vue&type=style&index=0&id=0be17cc6&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1719293287803\n      var cssReload = require(\"E:/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}